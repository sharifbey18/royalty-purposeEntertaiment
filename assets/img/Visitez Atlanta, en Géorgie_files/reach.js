window.SPR=function(){function A(a,d){var c=this;c.N=[];c.H=a||{};c.ud=b.Zc;c.ua=!1;c.Rc=d||b.Ac;p.vc(c.Rc);h.b(a[b.va]);a[b.f]=a[b.f]||q.current[b.f];a[b.url]=a[b.url]||g.na();a[b.title]||(a[b.title]=g.ma(a[b.url]));if(a[b.url])c.b=function(){if(c.Nc())return c.rc(),c;h[b.error](c.Xb());return null},c[b.bd]=function(a){c.Oc(a)?c.sc(a):c.Sb(a);return c},c[b.Uc]=function(a){c.Lc(a)?c.qc(a):c.Rb();return c},c[b.gd]=function(a){c.Pc(a)?c.tc(a):c.Tb();return c},c[b.Sc]=function(){c.ua||(c.w(c.ia(c.ia())),
c[b.La](100),c.ua=!0);return c},c[b.La]=function(a){if(e.contains(c.N,a))return null;if(e.contains(e.$,a)){var d=c.l();d[b.o]=b.Ma;d[b.Ma]=c.zb(a);c.w(d)}else h[b.error](b.Gb);return c},c.zb=function(a){var d,m=e.$,g={};if(!e.contains(m,a))h[b.error](b.xa);else if(!e.contains(c.N,a))for(d=0;d<m.length;d+=1){var r=m[d];a>=r&&!e.contains(c.N,r)&&(c.N.push(r),g[r]=!0,h[b.info](b.Fa+r))}return g},c.w=function(a){p.i(b.m,b.Wc,a)},c.rc=function(){c.w(c.Eb())},c.xd=function(){return q.current},c.l=function(){return w.fa(c.H)},
c.Eb=function(){var a=c.l();a[b.o]=b.Yc;return a},c.Nc=function(){var a;for(a=0;a<t.length;a+=1)if(!c.H[t[a]])return!1;return!0},c.Xb=function(){var a,d=[];for(a=0;a<t.length;a+=1)c.H[t[a]]||d.push(t[a]);return b.Ib+d.join(", ")},c.sc=function(a){c.w(c.Dc(a))},c.Oc=function(a){return a===b.ed||a===b.fd},c.Dc=function(a){var d=c.l();d[b.o]=b.cd;d[b.dd]=a;return d},c.Sb=function(a){if(a)h[b.error](a+b.Jb);else h[b.error](b.Jc)},c.ia=function(){var a=c.l();a[b.o]=b.Tc;return a},c.qc=function(a){c.w(c.ub(a))},
c.ub=function(a){var d=c.l();d[b.o]=b.Vc;d[b.$c]=a;return d},c.Lc=function(a){return!isNaN(a)},c.Rb=function(){h[b.error](b.Fb)},c.tc=function(a){c.w(c.Ec(a))},c.Ec=function(a){var d=c.l();d[b.o]=b.hd;d[b.ad]=a;return d},c.Pc=function(a){return!isNaN(a)&&c.Qc(a)},c.Qc=function(a){return e.hb(e.jd,a)},c.Tb=function(){h[b.error](b.Hb)};else h[b.error](b.ca+b.oa)}var b={m:"edge.simplereach.com",version:"2.18.7",fb:"d8rk54i4mohrb.cloudfront.net",global:"SPR",Db:"/n",Fc:"/t",Wc:"/v",pa:"/event",bb:"/pixel?bad=true&error=",
rd:"/iframe.html",gb:"/container.html",Ha:"000000000000000000000000",ca:"SPR-ERROR: ",oa:"100 - Missing url",ic:"__reach_config",Vb:"__memo_config",cb:"cache_buster",Da:"__srret",Ka:"__srui",R:"0",bc:"1",Cb:"img",cc:"1px",width:"width",g:"undefined",error:"error",Yb:"off",info:"info",K:"SPR_DEBUG",Ga:"//",da:"string",referrer:"referrer",uid:"uid",S:"callback",i:"jsonp",url:"url",title:"title",f:"pid",wa:"ignore_metadata",Wb:"meta",time:"time",mb:"datetime",c:"property",Mb:"itemprop",name:"name",
eb:"canonical",link:"link",rel:"rel",kd:"article",$b:"og:url",Ic:"twitter:url",Zb:"og:title",Hc:"twitter:title",Va:"article:published_at",Za:"article:sr_published_at",Wa:"article:published_time",lb:"datePublished",dc:"og:pubdate",Ca:"pubdate",Ta:"article:author",Xa:"article:sr_author",ea:"author",ab:"article:tag",$a:"article:sr_tag",Ua:"article:section",Ya:"article:sr_section",content:"content",href:"href",Ea:"s",r:"r",t:"t",e:"e",x:"x",n:"n",Kc:"v",va:"ignore_errors",hc:"preview",B:"authors",C:"channels",
L:"tags",h:"date",td:"inframe",Qa:"ajax",Bc:"social_tracking",qd:"iframe",jb:"custom_tracking",jc:"reach_tracking",v:"ref_url",Z:"page_url",Cd:"user_id",Ub:"manual_scroll_depth",ka:"content_height",wd:"rd",pd:"fb",ld:"de",ec:"pi",ib:"csd",fc:"partners-api.pinterest.com",gc:"/v1/urls/count.json",xa:"[error] Invalid amount please send scroll depths of only: 25, 50, 75 or 100",Fa:"[info] sending scrollDepth of: ",pc:"[info] scroll depth not activated, not sending data",Ac:"SimplereachVideo",o:"event_name",
Ib:"Missing params please provide a ",Jb:" is not a valid start event type.",Jc:"Cannot have an undefined start type. Please provide a start type.",Fb:"Please pass a valid number",Gb:"[error] Invalid quartile please send quartiles of only: 25, 50, 75 or 100",yd:"[error] Quartile for this video already sent",Hb:"Please pass a valid threshold number",Xc:"video_id",Qb:"length",description:"description",Bd:"thumbnail_url",zd:"source_url",Aa:"networks",Zc:"video",bd:"start",Uc:"elapsed",Sc:"complete",
La:"quartile",gd:"elapsedThreshold",Yc:"init",cd:"start",Vc:"elapsed",Ma:"quartile",Tc:"complete",hd:"elapsed_threshold",dd:"start_type",ed:"auto",fd:"click",$c:"seconds_elapsed",ad:"threshold"},e={nc:function(){return Math.random().toString(36).replace(/[^a-z]+/g,"")},kb:function(a){for(var b=[],c=/-|\//,m=[/\d{4}\/\d{1,2}\/\d{1,2}/,/\d{4}-\d{1,2}-\d{1,2}/,/20\d{6}/],f=0;f<m.length;f++){var e=a.match(m[f]);if(null!=e)return a=e[0],a.match(c)?b=a.split(c):(b[0]=a.substring(0,4),b[1]=a.substring(4,
6),b[2]=a.substring(6,8)),new Date(b[0],b[1]-1,b[2])}},s:function(a){return Array.isArray?Array.isArray(a):"[object Array]"===Object.prototype.toString.call(a)},log:function(a){window.console&&console.log(a)},Lb:function(a){return"[object String]"===Object.prototype.toString.call(a)},P:function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},za:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},contains:function(a,b){return-1!==(a.join(",")+",").indexOf(b+
",")},hb:function(a,b){if(!isNaN(b)&&!this.Lb(b))for(var c=0;c<=a.length;c++)if(a[c]===b)return!0;return!1},V:function(a){typeof a===b.da&&(a=a.split(","));if(this.s(a)){for(var d=0;d<a.length;d+=1)typeof a[d]===b.da&&(a[d]=a[d].replace(/^\s*/,"").replace(/\s*$/,"").replace(/\|/,""));return a.join("|")}},G:function(){},ra:function(){return window.location.protocol+"//"},$:[25,50,75,100],jd:[3,15,30,45]},u={encode:function(a,b){var c=[];if(e.s(a))for(var d=0,f;d<a.length;d+=1)f=a[d],/\[\]$/.test(b)?
c.push(encodeURIComponent(b)+"="+encodeURIComponent(f)):c.push(this.encode(f,b+"["+("object"===typeof f?d:"")+"]"));else if("object"!==typeof a||null===a||"nodeType"in a)c.push(encodeURIComponent(b)+"="+encodeURIComponent(a));else for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&(b?c.push(this.encode(a[d],b+"["+d+"]")):c.push(this.encode(a[d],d)));return c.join("&")},decode:function(a){var d={},c=0,m={"true":!0,"false":!1,"null":null};for(a=a.replace(/\+/g," ").split("&");c<a.length;c+=1){var f=
a[c].split("="),l=decodeURIComponent(f[0]),g=d,h=0,n=l.split("]["),k=n.length-1;/\[/.test(n[0])&&/\]$/.test(n[k])?(n[k]=n[k].replace(/\]$/,""),n=n.shift().split("[").concat(n),k=n.length-1):k=0;if(2===f.length)if(f=(f=decodeURIComponent(f[1]))&&!isNaN(f)?+f:f===b.g?void 0:void 0!==m[f]?m[f]:f,k)for(;h<=k;h+=1)l=""===n[h]?g.length:n[h],g=g[l]=h<k?g[l]||(n[h+1]&&isNaN(n[h+1])?{}:[]):f;else e.s(d[l])?d[l].push(f):d[l]=void 0!==d[l]?[d[l],f]:f;else l&&(d[l]=void 0)}return d}},v={Ba:{},ta:function(a){var b=
document.cookie||"",c=this.Ba[a];c||(c=a.replace(/([.*+?\^=!:${}()|\[\]\/\\])/g,"\\$1"),c=new RegExp("(?:^|;)\\s?"+c+"=(.*?)(?:;|$)","i"),this.Ba[a]=c);return(a=b.match(c))&&decodeURIComponent(a[1])},ba:function(a,b,c){var d="";c&&(d="; expires="+c.toGMTString());document.cookie=a+"="+b+d+"; path=/"},md:function(a){this.ba(a,"",new Date(1982,5,13))}},q={current:{}},h={qa:!1,info:e.G,error:e.log,b:function(){window[b.K]&&(this.qa=!0,window[b.K][b.info]&&(this[b.info]=window[b.K][b.info]),window[b.K][b.error]&&
(this[b.error]=window[b.K][b.error]))},reset:function(){this.qa=!1;this[b.info]=e.G;this[b.info]=e.log},xc:function(a){var d=document.createElement(b.Cb);d.src=e.ra()+b.m+b.bb+a.message;d.setAttribute(b.width,b.cc);document.body?document.body.appendChild(d):document.head.appendChild(d)},yc:function(a){a===b.info?(this[b.info]=e.log,this[b.error]=e.log):a===b.error?(this[b.info]=e.G,this[b.error]=e.log):(this[b.info]=e.G,this[b.error]=e.G)}},g={R:0,F:{x:0,y:0},X:!0,b:function(){function a(){e.X=document[f]?
!1:!0}function d(){e.flush();window.removeEventListener("DOMContentLoaded",d,!1)}function c(){e.ready&&(document.detachEvent("onreadystatechange",c),h&&(h=!1,e.flush()))}var e=this;e.R=0;this.ac(window,"mousemove",function(a){e.F={x:a.clientX,y:a.clientY}});if(typeof document.hidden!==b.g){var f="hidden";var g="visibilitychange"}else typeof document.mozHidden!==b.g?(f="mozHidden",g="mozvisibilitychange"):typeof document.msHidden!==b.g?(f="msHidden",g="msvisibilitychange"):typeof document.webkitHidden!==
b.g&&(f="webkitHidden",g="webkitvisibilitychange");typeof document.addEventListener!==b.g&&typeof f!==b.g&&document.addEventListener(g,a,!1);var h=!0;window.addEventListener?window.addEventListener("DOMContentLoaded",d,!1):document.attachEvent&&document.attachEvent("onreadystatechange",c)},Na:function(a,d){var c=document.createElement("iframe"),e=document.body;c.setAttribute("name","spr");c.src=a;c.setAttribute("height","1");c.setAttribute("width","1");c.setAttribute("visible","false");c.setAttribute("id",
"spr-iframe-"+d);c.style.display="none";e||(e=this.j("BODY")[0]);e||(e=this.j("HEAD")[0]);h[b.info](a);e.appendChild(c);return c},qb:function(){return this.a(this,b.c,b.$b)},ob:function(){return this.wb(this,b.eb)},rb:function(){return this.a(this,b.name,b.Ic)},sb:function(){return window.location.protocol+b.Ga+window.location.hostname+window.location.pathname},na:function(){var a=this.ob()||this.qb()||this.rb()||this.sb();return e.s(a)?a[0]:a},pb:function(){var a=this.a(this,b.c,b.Za)||this.a(this,
b.name,b.Ca)||this.a(this,b.c,b.Ca)||this.a(this,b.c,b.Va)||this.a(this,b.c,b.Wa)||this.a(this,b.c,b.dc)||this.xb(this,b.Mb,b.lb)||this.a(this,b.name,b.h);return e.s(a)?a[0]:a},nb:function(){return this.a(this,b.c,b.Xa)||this.a(this,b.c,b.Ta)||this.a(this,b.c,b.ea)||this.a(this,b.name,b.ea)},la:function(a,d){return this.a(this,b.c,a)||this.a(this,b.c,d)},sa:function(){return document.referrer},ma:function(a){a=this.a(this,b.c,b.Zb)||this.a(this,b.name,b.Hc)||document.title||a||!1;return e.s(a)?a[0]:
a},W:function(a,b,c,e,f){a=a.j(b);b=[];for(var d=0;d<a.length;d++)a[d].getAttribute(c)===e&&b.push(a[d].getAttribute(f));if(b.length)return 1==b.length?b[0]:b},wb:function(a,d){return this.W(a,b.link,b.rel,d,b.href)},a:function(a,d,c){return this.W(a,b.Wb,d,c,b.content)},xb:function(a,d,c){return this.W(a,b.time,d,c,b.mb)},kc:function(a){var b=document.body,c=this.j("BODY")[0],e=this.j("HEAD")[0];b&&b.contains(a)?b.removeChild(a):c&&c.contains(a)?c.removeChild(a):e&&e.contains(a)&&e.removeChild(a);
return a},Oa:function(a){var d=this,c=document.createElement("script");c.type="text/javascript";c.setAttribute("async",!0);c.setAttribute("name","spr");c.setAttribute("id","spr-script");c.src=a;h[b.info](a);this.Y(function(){setTimeout(function(){d.j("HEAD")[0].appendChild(c)},1)});return c},u:[],ready:!1,flush:function(){var a=this.u.shift();for(this.ready=!0;a;)a(),a=this.u.shift()},Y:function(a){function b(){/loaded|interactive|complete/.test(document.readyState)?c.flush():setTimeout(b,500)}var c=
this;this.ready?(this.u.push(a),this.flush()):document.documentElement.doScroll?window.self===window.top?function f(){if(!document.uniqueID&&document.expando)return this.u.push(a);try{document.documentElement.doScroll("left"),a()}catch(l){setTimeout(f,0)}}():(this.u.push(a),b()):(this.u.push(a),b())},ac:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c);return a},Yb:function(a,b,c){a.addEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,c);return a},
O:function(){return(window.pageYOffset?window.pageYOffset:document.documentElement?document.documentElement.scrollTop:0)-this.R},j:function(a){var b=[],c=0,e;if(!a)return[];if("string"!==typeof a)return[a];switch(a.charAt(0)){case "#":b.push(document.getElementById(a.substring(1)));break;case ".":var f=document.getElementsByTagName("*");for(e=" "+a.substring(1)+" ";c<f.length;c+=1)a=(" "+f[c].className+" ").replace(/[\n\t\r]/g," "),-1<a.indexOf(e)&&b.push(f[c]);break;default:b=document.getElementsByTagName(a)}return b}},
w={fa:function(a){var d;var c=e.P(a);c[b.B]&&(c[b.B]=e.V(c[b.B]));c[b.C]&&(c[b.C]=e.V(c[b.C]));c[b.L]&&(c[b.L]=e.V(c[b.L]));c[b.h]&&typeof c[b.h]!==b.da&&(c[b.h]=c[b.h].toString());c[b.referrer]=""==c[b.v]?"":this.aa(c[b.referrer]);c[b.v]=this.aa(c[b.v]);c[b.Z]=c[b.Z]||window.location.toString();c[b.uid]?c[b.uid]=c[b.uid]:(d=this.Bb())&&(c[b.uid]=d);c[b.url]&&(c[b.url]=this.oc(c[b.url]),a[b.url]=c[b.url]);return c},aa:function(a){""!==a&&(a=a||g.sa());return a},Bb:function(){return v.ta(b.Ka)},oc:function(a){if(0===
a.indexOf("http%253A")||0===a.indexOf("https%253A"))a=decodeURIComponent(a);if(0===a.indexOf("http%3")||0===a.indexOf("https%3"))a=decodeURIComponent(a);return a}},p={callbacks:{},T:b.global,vc:function(a){this.T=a},i:function(a,d,c,h,f){h=h||function(){};f||(f="cb");var l="cb"+e.nc(),k=this;c[f]=this.T+".API.callbacks."+l;f=e.ra();"file://"===f&&(f="http://");c[b.Kc]=b.version;c=u.encode(c);var m=g.Oa(f+a+d+"?"+c);k.callbacks[l]=function(a){setTimeout(function(){m.parentNode&&m.parentNode.removeChild(m)},
0);h(a);try{delete k.callbacks[l]}catch(E){k.callbacks[l]=null}}}},x={vd:!1,od:!0,A:0,Ia:5E3,Gc:12E5,interval:null,reset:function(){g.R=g.O();window.clearInterval(this.interval)},track:function(a){var d=this,c;d.interval=setInterval(function(){g.X&&(d.A+=d.Ia);d.Ja()&&(d.A=0);c=e.P(a);c[b.t]=d.A;c[b.e]=d.Kb()?5E3:0;c[b.Ea]=g.O();0===c[b.f]&&(c[b.f]=b.Ha);g.X&&!d.Ja()&&d.Mc(c)&&0<c[b.e]&&(d.A=0,p.i(b.m,b.Fc,c));d.Ob=g.F.x;d.Pb=g.F.y;d.Nb=g.O()},d.Ia)},Kb:function(){return!0!==this.vb?this.vb=!0:this.Ob!==
g.F.x||this.Pb!==g.F.y||this.Nb!==g.O()?!0:!1},Ja:function(){return this.A>=this.Gc},Mc:function(a){return a[b.url]&&a[b.f]}},k=e.$,z={M:[],data:{},response:null,options:null,Ad:!1,b:function(a,d){this.reset();this.options=d;this.response=a;var c=this;g.Y(function(){c.height=c.yb();c.J||(c.J=function(){c.ga()});q.current[b.Ub]?c.lc():c.Pa()})},Pa:function(){typeof document.addEventListener!==b.g?document.addEventListener("scroll",this.J,!1):window.attachEvent("onscroll",this.J);this.ga()},lc:function(){typeof document.removeEventListener!==
b.g?document.removeEventListener("scroll",this.J,!1):window.detachEvent("onscroll",this.J)},ga:function(){var a=this.Ab()+Math.min(document.documentElement.clientHeight,window.innerHeight||0),b=0;a>=this.height?b=k[3]:b=a/this.height*100;97<=b?this.I(k[3]):b>=k[2]?this.I(k[2]):b>=k[1]?this.I(k[1]):b>=k[0]&&this.I(k[0])},yb:function(){if(q.current[b.ka])var a=q.current[b.ka];else{a=document.body;var d=document.documentElement;a=Math.max(a.scrollHeight,a.offsetHeight,d.clientHeight,d.scrollHeight,d.offsetHeight)}return a},
Ab:function(){var a="CSS1Compat"===(document.compatMode||"");return void 0!==window.pageYOffset?window.pageYOffset:a?document.documentElement.scrollTop:document.body.scrollTop},I:function(a){this.data={};if(!e.contains(k,a))h[b.error](b.xa);else if(!e.contains(this.M,a))if(this.wc(a),this.response[b.ib])this.uc();else h[b.info](b.pc)},wc:function(a){var d;for(d=0;d<k.length;d+=1){var c=k[d];a>=c&&!e.contains(this.M,c)&&(this.M.push(c),this.data[c]=!0,h[b.info](b.Fa+c))}},H:function(){return e.za({event:"csd",
sd:this.data},this.options)},uc:function(){if(!this.response.error){var a=this.H();p.i(b.m,b.pa,a)}},reset:function(){this.M=[]}},B={Aa:[{name:b.ec,Ra:b.fc,Sa:b.gc,S:b.S}],mc:function(a,b){return{url:b}},Cc:function(a,d){return function(c){c={event:b.Ea,url:a.url,cid:a.id,pid:a.pid,sn:a.name,data:c};e.za(c,d);p.i(b.m,b.pa,c)}},D:function(a,b){for(var c=this.Aa,d,f=0;f<c.length;f+=1){d=c[f];var g=e.P(a);g.name=d.name;a[d.name]&&p.i(d.Ra,d.Sa,this.mc(d.name,g.url),this.Cc(g,b),d.S)}}},C={track:function(a){var d=
this;0===a[b.f]&&(a[b.f]=b.Ha);p.i(b.m,b.Db,a,function(c){z.b(c,a);if(c.error)h[b.error](b.ca+c.error.code+" - "+c.error.message);else c.uid&&d.zc(c.uid),!1!==a[b.Bc]&&B.D(c,a)})},zc:function(a){v.ba(b.Ka,a,new Date(2042,5,13))}},y={nd:{},U:{},ha:!1,b:function(){try{g.b();var a=window[b.Vb]||window[b.ic];v.ta(b.Da)?this.ya=!0:this.ya=!1;v.ba(b.Da,b.bc,new Date(2042,5,13));this.D(a)}catch(d){g.Y(function(){h.xc(d)})}},D:function(a){if(a){var d;q.current=a;this.U=e.P(q.current);this.U[b.r]=this.ya;
(d=this.U[b.Qa]&&this.ha)||(a[b.url]=a[b.url]||g.na());if(a[b.url])h.b(a[b.va]),d&&(a.hasOwnProperty(b.wa)||(a[b.wa]=!0),a[b.Z]=a[b.v]=a[b.referrer]=a.url),a[b.title]||(a[b.title]=g.ma(a[b.url])),a[b.h]||(a[b.h]=g.pb()||e.kb(a[b.url])),a[b.L]||(d=g.la(b.$a,b.ab))&&(a[b.L]=d),a[b.C]||(d=g.la(b.Ya,b.Ua))&&(a[b.C]=d),a[b.B]||(d=g.nb())&&(a[b.B]=d),x.reset(),d=w.fa(a),d[b.hc]||(!1!==a[b.jc]&&(C.track(d),x.track(d)),!1!==a[b.jb]&&this.tb(d)),this.ha=!0;else h[b.error](b.ca+b.oa)}else h[b.error]("Params not passed to collect")},
tb:function(a){a[b.referrer]=a[b.referrer]||g.sa();a[b.v]=w.aa(a[b.v]);a[b.cb]=(new Date).getTime();a=u.encode(a);this.ja&&g.kc(this.ja);this.ja=g.Na(b.Ga+b.fb+b.gb+"?"+a,b.x)}},t=[b.f,b.Xc,b.Qb,b.h],D={create:function(a,b){return new A(a,b)},b:function(a,b){return this.create(a,b).b()}};return{Reach:{collect:function(a){y.D(a)}},QS:{decode:u.decode},debug:h,setLogLevel:function(a){h.yc(a)},API:p,collect:function(a){y.D(a)},decode:u.decode,init:function(){y.b()},iframeCollect:function(){},stop:function(){x.reset()},
scrollDepthReached:function(a){z.I(a)},video:function(a){return D.b(a,p.T)}}}();window.SPR.init();
